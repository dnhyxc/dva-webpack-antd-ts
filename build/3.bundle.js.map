{"version":3,"sources":["webpack:///./src/components/NavBar/index.less","webpack:///./src/components/NavBar/index.tsx","webpack:///./src/routes/home/index.less","webpack:///./src/routes/home/index.tsx"],"names":["onLeftClick","content","rightContent","className","mode","leftContent","key","type","state","loading","models","home","history","form","dispatch","getFieldProps","getUserInfo","a","payload","onResult","error","result","info","console","log","toTeam","push","toProject","onRecordClick","onSubmit","validateFields","force","getFieldsValue","wrapper","title","onClick","userInfo","date","action","btn","list","map","i","inputList","item","rules","required","message","validator","placeholder","footer","submit"],"mappings":"uHACe,EAAU,uBC8BV,IApBmB,SAAC,GAE9B,IADHA,EACG,EADHA,YAAaC,EACV,EADUA,QAASC,EACnB,EADmBA,aAEtB,OACE,yBAAKC,UAAW,GACd,kBAAC,IAAM,CACLC,KAAK,QACLC,YAAa,CACX,kBAAC,IAAI,CAACC,IAAK,EAAGC,KAAK,SACnB,0BAAMD,IAAK,GAAC,OAEdN,YAAaA,GAAeA,EAC5BE,aAAcA,GAAgBA,GAE7BD,M,0HCxBM,GAAC,QAAU,wBAAwB,MAAQ,sBAAsB,OAAS,uBAAuB,KAAO,qBAAqB,SAAW,yBAAyB,KAAO,qBAAqB,OAAS,uBAAuB,IAAM,oBAAoB,QAAU,wBAAwB,KAAO,qBAAqB,KAAO,qBAAqB,OAAS,uBAAuB,OAAS,wBC2H1X,6BAAQ,SAACO,GAAD,MAAyB,CAC9CC,QAASD,EAAMC,QAAQC,OAAOC,QADjB,CAEX,eAhH2B,SAAC,GAA+B,IAA7BC,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,SACvCC,EAAkBF,EAAlBE,cAEFC,EAAW,uCAAG,sBAAAC,EAAA,sDAClBH,EAAS,CACPP,KAAM,mBACNW,QAAS,GACTC,SAAU,SAACC,EAAcC,GACnBD,EACF,IAAME,KAAKF,GAEXG,QAAQC,IAAIH,MARA,2CAAH,qDAcjB,qBAAU,WACRL,MACC,CAACF,IAEJ,IAAMW,EAAS,uBAAY,WACzBb,EAAQc,KAAK,eACZ,IAEGC,EAAY,uBAAY,WAC5Bf,EAAQc,KAAK,kBACZ,IAEGE,EAAgB,uBAAY,WAChChB,EAAQc,KAAK,uBACZ,IAEGG,EAAW,uBAAY,WAC3BhB,EAAKiB,eAAe,CAAEC,OAAO,IAAQ,SAACX,GAC/BA,EAGHG,QAAQC,IAAI,qBAFZD,QAAQC,IAAIX,EAAKmB,qBAKrBpB,EAAQc,KAAK,iBACZ,IAUH,OACE,yBAAKvB,UAAW,EAAO8B,SACrB,yBAAK9B,UAAW,EAAO+B,OACrB,kBAAC,IAAO,CACNjC,QAAQ,SACRD,YAAa,kBAAMuB,QAAQC,IAAI,oBAC/BtB,aAAc,CAAC,0BAAMI,IAAK,EAAG6B,QAASP,GAAa,WAErD,yBAAKzB,UAAW,EAAOmB,MACrB,yBAAKnB,UAAW,EAAOiC,UACrB,mCACA,6BACE,oCACA,0BAAMjC,UAAW,EAAOkC,MAAI,cAGhC,yBAAKlC,UAAW,EAAOmC,QACrB,kBAAC,IAAM,CAACnC,UAAW,EAAOoC,IAAKJ,QAASV,GAAM,MAC9C,kBAAC,IAAM,CAACtB,UAAW,EAAOoC,IAAKJ,QAASR,GAAS,WAIvD,yBAAKxB,UAAW,EAAOF,SACrB,yBAAKE,UAAW,EAAOqC,MACpB,CAAC,OAAQ,OAAQ,OAAQ,QAAS,OAAQ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGC,KAAI,SAAAC,GACxE,OACE,yBAAKvC,UAAW,EAAOwC,UAAWrC,IAAKoC,GACrC,8BACE,kBAAC,IAAI,KACH,kBAAC,IAAS,eACRvC,UAAW,EAAOyC,MACd7B,EAAc,UAAW,CAE3B8B,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,wBAC3B,CAAEC,UAAW,MAEf,CACFzC,KAAK,QACL0C,YAAY,MAEXP,UAQf,yBAAKvC,UAAW,EAAO+C,QACrB,kBAAC,IAAM,CAAC3C,KAAK,UAAUJ,UAAW,EAAOgD,OAAQhB,QAASN,GAAQ,MAClE","file":"3.bundle.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"navbar\":\"index__navbar--3nKAx\"};","import React from 'react';\nimport { Icon, NavBar } from 'antd-mobile';\nimport './index.less';\nimport styles from './index.less';\n\ninterface IProps {\n  onLeftClick?: () => void;\n  content: string;\n  rightContent?: any;\n}\n\nconst MNavBar: React.FC<IProps> = ({\n  onLeftClick, content, rightContent\n}) => {\n  return (\n    <div className={styles.navbar}>\n      <NavBar\n        mode=\"light\"\n        leftContent={[\n          <Icon key={1} type=\"left\" />,\n          <span key={2}>返回</span>\n        ]}\n        onLeftClick={onLeftClick && onLeftClick}\n        rightContent={rightContent && rightContent}\n      >\n        {content}\n      </NavBar >\n    </div>\n  )\n}\n\nexport default MNavBar;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"index__wrapper--1GYs6\",\"title\":\"index__title--Z25Fo\",\"header\":\"index__header--3hU8A\",\"info\":\"index__info--2Mpxu\",\"userInfo\":\"index__userInfo--28bJC\",\"date\":\"index__date--1EI4a\",\"action\":\"index__action--2auMj\",\"btn\":\"index__btn--19lLx\",\"content\":\"index__content--2aRTq\",\"list\":\"index__list--2438s\",\"item\":\"index__item--emsWO\",\"footer\":\"index__footer--2LSg6\",\"submit\":\"index__submit--33cB5\"};","import React, { useCallback, useEffect } from 'react';\nimport { Button, List, InputItem, Toast } from 'antd-mobile';\nimport { connect } from 'dva';\nimport { DispatchProp } from 'react-redux';\nimport { createForm } from 'rc-form';\nimport { GlobalState } from '@/models/types';\nimport MNavBar from '../../components/NavBar';\nimport styles from './index.less';\n\ninterface IProps extends DispatchProp {\n  history: any;\n  form: any;\n}\n\nconst Home: React.FC<IProps> = ({ history, form, dispatch }) => {\n  const { getFieldProps } = form;\n\n  const getUserInfo = async () => {\n    dispatch({\n      type: 'home/getUserInfo',\n      payload: {},\n      onResult: (error: Error, result: any) => {\n        if (error) {\n          Toast.info(error);\n        } else {\n          console.log(result);\n        }\n      },\n    });\n  }\n\n  useEffect(() => {\n    getUserInfo();\n  }, [dispatch]);\n\n  const toTeam = useCallback(() => {\n    history.push('/app/team');\n  }, []);\n\n  const toProject = useCallback(() => {\n    history.push('/app/project');\n  }, []);\n\n  const onRecordClick = useCallback(() => {\n    history.push('/app/records/lisi');\n  }, []);\n\n  const onSubmit = useCallback(() => {\n    form.validateFields({ force: true }, (error: any) => {\n      if (!error) {\n        console.log(form.getFieldsValue());\n      } else {\n        console.log('Validation failed');\n      }\n    });\n    history.push('/app/result');\n  }, []);\n\n  // const validateAccount = (rule: any, value: string | any[], callback: any) => {\n  //   if (value && value.length > 20) {\n  //     callback();\n  //   } else {\n  //     // callback(new Error('At least four characters for account'));\n  //   }\n  // }\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.title}>\n        <MNavBar\n          content='项目工时统计'\n          onLeftClick={() => console.log('homeonLeftClick')}\n          rightContent={[<span key={1} onClick={onRecordClick}>提交记录</span>]}\n        />\n        <div className={styles.info}>\n          <div className={styles.userInfo}>\n            <div>头像</div>\n            <div>\n              <span>姓名</span>\n              <span className={styles.date}>2021年01月</span>\n            </div>\n          </div>\n          <div className={styles.action}>\n            <Button className={styles.btn} onClick={toTeam}>团队</Button>\n            <Button className={styles.btn} onClick={toProject}>选择项目</Button>\n          </div>\n        </div>\n      </div>\n      <div className={styles.content}>\n        <div className={styles.list}>\n          {['智能媒资', '智能模板', 'boss', 'bastv', 'vlog', 1, 2, 3, 4, 5, 6, 7, 8, 9].map(i => {\n            return (\n              <div className={styles.inputList} key={i}>\n                <form>\n                  <List>\n                    <InputItem\n                      className={styles.item}\n                      {...getFieldProps('account', {\n                        // initialValue: 'little ant',\n                        rules: [\n                          { required: true, message: 'Please input account' },\n                          { validator: 2 },\n                        ],\n                      })}\n                      type='money'\n                      placeholder=\"天\"\n                    >\n                      {i}\n                    </InputItem>\n                  </List>\n                </form>\n              </div>\n            )\n          })}\n        </div>\n        <div className={styles.footer}>\n          <Button type=\"primary\" className={styles.submit} onClick={onSubmit}>提交</Button>\n          <span>请按照实际工作天数填写（计算请假、调休和节假日加班）</span>\n        </div>\n      </div>\n    </div >\n  )\n}\n\nexport default connect((state: GlobalState) => ({\n  loading: state.loading.models.home,\n}))(createForm()(Home));"],"sourceRoot":""}